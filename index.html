<!doctype html>
<html lang="en" data-bs-theme="dark">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>StrumMaster Configurator</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
</head>

<body>
    <nav class="navbar navbar-expand-lg sticky-top">
        <div class="container-fluid">
            <div class="navbar-brand">
                <h1>StrumMaster Configurator</h1>
            </div>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
                data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false"
                aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav mx-auto mb-2 mb-lg-0">
                    <button class="btn btn-outline-success btn-lg me-2" type="button"
                        id="connectButton">Connect</button>
                    <div class="btn-group me-2">
                        <button class="btn btn-outline-light btn-lg" type="button" id="applyButton" disabled>
                            Apply
                        </button>
                        <button type="button" class="btn btn-outline-light btn-lg dropdown-toggle dropdown-toggle-split"
                            data-bs-toggle="dropdown" data-bs-auto-close="outside" aria-expanded="false">
                            <span class="visually-hidden">More Options</span>
                        </button>
                        <div class="dropdown-menu">
                            <form class="px-3 py-2" id="savePresetForm">
                                <div class="mb-2">
                                    <input type="text" class="form-control" id="dropdownSaveInput"
                                        placeholder="Preset Name" required>
                                </div>
                                <button type="submit" class="btn btn-outline-primary btn-sm">Save As Preset</button>
                            </form>
                            <div class="dropdown-divider"></div>
                            <li><button class="dropdown-item" type="button" data-bs-toggle="modal"
                                    data-bs-target="#presetModal" id="managePresetsButton">Load/Manage Presets</button>
                            </li>
                            <li><button class="dropdown-item" type="button" id="devButton">
                                    DEV TOOL: Clear Local Storage</button></li>
                        </div>
                    </div>
                    <button type="button" class="btn btn-outline-light btn-lg me-2" data-bs-toggle="modal"
                        data-bs-target="#settingModal" id="settingsButton">
                        Settings
                    </button>
                    <button type="button" class="btn btn-outline-primary btn-lg me-2" data-bs-toggle="modal"
                        data-bs-target="#tutorialModal">
                        Tutorial
                    </button>
                </ul>
                <div class="badge bg-warning text-wrap" role="alert" id="statusAlert">
                    <h4><span class="align-middle">Device: </span><span class="align-middle"
                            id="deviceName">Unconnected</span></h4>
                </div>
            </div>
        </div>
    </nav>

    <!-- Alert -->
    <div class="container px-5 pt-5">
        <div class="alert alert-warning alert-dismissible" role="alert" id="firstAlert" hidden>
            <div>This configurator uses web bluetooth, IOS devices may not be supported and Chrome is recommended.</div>
            <div>Cookies are used by this configurator to store presets, clearing them will delete all presets!</div>
            <div>Presets are stored by device, presets can be downloaded and transfered using the preset manager.</div>
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"
                id="alertCloseButton"></button>
        </div>
    </div>

    <!-- Input Cards -->
    <div class="container px-1 py-5">
        <div class="row" id="cardHolder">
            <div class="col-2" id="cardToClone">
                <div class="card border-light mb-3">
                    <div class="card-header">
                        <h4>Input 1</h4>
                    </div>
                    <div class="card-body">
                        <select class="form-select mb-3" aria-label="Button action selector" id="action_B1">
                            <option selected value="0">Pick</option>
                            <option value="1">Strum Up</option>
                            <option value="2">Strum Down</option>
                        </select>
                        <ul class="list-group">
                            <li class="list-group-item">
                                <input class="form-check-input me-1" type="checkbox" value="" id="Eh_B1">
                                <label class="form-check-label stretched-link" for="Eh_B1">String E
                                    H</label>
                            </li>
                            <li class="list-group-item">
                                <input class="form-check-input me-1" type="checkbox" value="" id="A_B1">
                                <label class="form-check-label stretched-link" for="A_B1">String
                                    A</label>
                            </li>
                            <li class="list-group-item">
                                <input class="form-check-input me-1" type="checkbox" value="" id="D_B1">
                                <label class="form-check-label stretched-link" for="D_B1">String
                                    D</label>
                            </li>
                            <li class="list-group-item">
                                <input class="form-check-input me-1" type="checkbox" value="" id="G_B1">
                                <label class="form-check-label stretched-link" for="G_B1">String
                                    G</label>
                            </li>
                            <li class="list-group-item">
                                <input class="form-check-input me-1" type="checkbox" value="" id="B_B1">
                                <label class="form-check-label stretched-link" for="B_B1">String
                                    B</label>
                            </li>
                            <li class="list-group-item">
                                <input class="form-check-input me-1" type="checkbox" value="" id="El_B1">
                                <label class="form-check-label stretched-link" for="El_B1">String E
                                    L</label>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Toasts -->
    <div class="toast-container bottom-0 start-50 translate-middle-x p-3">
        <div class="toast align-items-center" role="alert" aria-live="assertive" aria-atomic="true"
            id="configAppliedToast">
            <div class="d-flex">
                <div class="toast-body">
                    Settings Applied!
                </div>
                <button type="button" class="btn-close me-2 m-auto" data-bs-dismiss="toast" aria-label="Close"></button>
            </div>
        </div>
    </div>

    <!-- Modals -->
    <div class="modal fade modal-xl" id="tutorialModal" tabindex="-1" aria-labelledby="tutorialModalLabel"
        aria-hidden="true">
        <div class="modal-dialog modal-dialog-scrollable">
            <div class="modal-content">
                <div class="modal-header">
                    <h1 class="modal-title fs-5" id="tutorialModal">Tutorial</h1>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="tab-content py-5 px-5" id="tutorailTabContect">
                        <div class="tab-pane fade show active" id="tutorial1" role="tabpanel" tabindex="0">
                            <img src="assets/tutorial/temp.png" class="rounded img-fluid" alt="...">Step 1
                        </div>
                        <div class="tab-pane fade" id="tutorial2" role="tabpanel" tabindex="0">
                            <img src="assets/tutorial/temp.png" class="rounded img-fluid" alt="...">Step 2
                        </div>
                        <div class="tab-pane fade" id="tutorial3" role="tabpanel" tabindex="0">
                            <img src="assets/tutorial/temp.png" class="rounded img-fluid" alt="...">Step 3
                        </div>
                        <div class="tab-pane fade" id="tutorial4" role="tabpanel" tabindex="0">
                            <img src="assets/tutorial/temp.png" class="rounded img-fluid" alt="...">Step 4
                        </div>
                    </div>
                </div>
                <div class="modal-footer justify-content-between">
                    <div></div>
                    <ul class="pagination" role="tablist" id="tutorialNavTabs">
                        <li class="page-item prev" id="tutorialPrevButton"><button type="button"
                                class="page-link">&laquo;</li>
                        <li class="page-item"><button class="page-link active" id="tutorial1-tab" data-bs-toggle="pill"
                                data-bs-target="#tutorial1" type="button" role="tab">1</button></li>
                        <li class="page-item"><button class="page-link" id="tutorial2-tab" data-bs-toggle="pill"
                                data-bs-target="#tutorial2" type="button" role="tab">2</button></li>
                        <li class="page-item"><button class="page-link" id="tutorial3-tab" data-bs-toggle="pill"
                                data-bs-target="#tutorial3" type="button" role="tab">3</button></li>
                        <li class="page-item"><button class="page-link" id="tutorial4-tab" data-bs-toggle="pill"
                                data-bs-target="#tutorial4" type="button" role="tab">4</button>
                        </li>
                        <li class="page-item next" id="tutorialNextButton"><button type="button"
                                class="page-link">&raquo;</button></li>
                    </ul>
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade modal-lg" id="presetModal" tabindex="-1" aria-labelledby="presetModalLabel"
        aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h1 class="modal-title fs-5" id="presetModal">Presets</h1>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <ul class="list-group" id="presetListGroup">
                        <li class="list-group-item d-flex justify-content-between" id="presetToClone">
                            <div>
                                <input class="form-check-input me-1" type="radio" name="presetGroupRadio"
                                    id="presetRadio0" checked>
                                <label class="form-check-label stretched-link" for="presetRadio0">Simple Pick
                                    (Example)</label>
                            </div>
                            <div class="preset-config">{"buttonNum":6,"buttonConfig":[1,2,4,8,16,32]}</div>
                        </li>
                    </ul>
                </div>
                <div class="modal-footer">
                    <div class="btn-group me-2">
                        <button class="btn btn-primary" type="button" id="loadPresetButton" data-bs-dismiss="modal">
                            Load Selected Preset
                        </button>
                        <button type="button" class="btn btn-primary dropdown-toggle dropdown-toggle-split"
                            data-bs-toggle="dropdown" aria-expanded="false">
                            <span class="visually-hidden">More Options</span>
                        </button>
                        <div class="dropdown-menu">
                            <li><button class="dropdown-item text-danger" type="button" id="deletePresetsButton">
                                    Delete Selected Preset</button></li>
                            <li>
                                <div class="dropdown-divider"></div>
                            <li>
                            <li><button class="dropdown-item" type="button" id="ulPresetsButton">
                                    Upload Presets From File</button></li>
                            <li><button class="dropdown-item" type="button" id="dlPresetsButton">
                                    Download Presets As File</button></li>
                        </div>
                    </div>
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                </div>
                <a id="dlAnchorElem" style="display:none" download></a>
                <input id="ulAnchorElem" type="file" accept=".json" style="display:none">
            </div>
        </div>
    </div>
    <div class=" modal fade" id="settingModal" tabindex="-1" aria-labelledby="settingModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h1 class="modal-title fs-5" id="settingModal">Settings</h1>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <label for="buttonNumSlider" class="form-label">Number of inputs:</label>
                    <output>6</output>
                    <input type="range" class="form-range" min="1" max="12" id="buttonNumSlider" oninput="this.previousElementSibling.value = this.value">
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" id="saveSettingsButton">Save changes</button>
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN"
        crossorigin="anonymous"></script>
    <script src="js/bluetooth_terminal.js"></script>
    <script src="js/main.js"></script>
</body>

</html>